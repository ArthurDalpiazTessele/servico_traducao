const { connectRabbitMQ } = require('./utils/rabbitmq');
const { Translation, syncDatabase } = require('./models/Translation');
const config = require('./config');

// Simulador de tradução (Dicionário mockado)
const MOCKED_TRANSLATIONS = {
    'hello': {'es': 'hola', 'fr': 'bonjour', 'pt': 'olá'},
    'world': {'es': 'mundo', 'fr': 'monde', 'pt': 'mundo'},
    'cat': {'es': 'gato', 'fr': 'chat', 'pt': 'gato'},
    'dog': {'es': 'perro', 'fr': 'chien', 'pt': 'cachorro'},
    'book': {'es': 'libro', 'fr': 'livre', 'pt': 'livro'},
    'thank you': {'es': 'gracias', 'fr': 'merci', 'pt': 'obrigado'},
    'goodbye': {'es': 'adiós', 'fr': 'au revoir', 'pt': 'adeus'},
    'please': {'es': 'por favor', 'fr': 's\'il vous plaît', 'pt': 'por favor'},
    'house': {'es': 'casa', 'fr': 'maison', 'pt': 'casa'},
    'car': {'es': 'coche', 'fr': 'voiture', 'pt': 'carro'},
    'water': {'es': 'agua', 'fr': 'eau', 'pt': 'água'},
    'food': {'es': 'comida', 'fr': 'nourriture', 'pt': 'comida'},
    'travel': {'es': 'viajar', 'fr': 'voyager', 'pt': 'viajar'},
    'computer': {'es': 'computadora', 'fr': 'ordinateur', 'pt': 'computador'},
    'phone': {'es': 'teléfono', 'fr': 'téléphone', 'pt': 'telefone'},
    'music': {'es': 'música', 'fr': 'musique', 'pt': 'música'},
    'movie': {'es': 'película', 'fr': 'film', 'pt': 'filme'},
    'beautiful': {'es': 'hermoso', 'fr': 'beau', 'pt': 'bonito'},
    'happy': {'es': 'feliz', 'fr': 'heureux', 'pt': 'feliz'},
    'sad': {'es': 'triste', 'fr': 'triste', 'pt': 'triste'},
    'big': {'es': 'grande', 'fr': 'grand', 'pt': 'grande'},
    'small': {'es': 'pequeño', 'fr': 'petit', 'pt': 'pequeno'},
    'new': {'es': 'nuevo', 'fr': 'nouveau', 'pt': 'novo'},
    'old': {'es': 'viejo', 'fr': 'vieux', 'pt': 'velho'},
    'yes': {'es': 'sí', 'fr': 'oui', 'pt': 'sim'},
    'no': {'es': 'no', 'fr': 'non', 'pt': 'não'},
    'love': {'es': 'amor', 'fr': 'amour', 'pt': 'amor'},
    'peace': {'es': 'paz', 'fr': 'paix', 'pt': 'paz'},
    'sun': {'es': 'sol', 'fr': 'soleil', 'pt': 'sol'},
    'moon': {'es': 'luna', 'fr': 'lune', 'pt': 'lua'},
    'star': {'es': 'estrella', 'fr': 'étoile', 'pt': 'estrela'},
    'tree': {'es': 'árbol', 'fr': 'arbre', 'pt': 'árvore'},
    'flower': {'es': 'flor', 'fr': 'fleur', 'pt': 'flor'},
    'river': {'es': 'río', 'fr': 'rivière', 'pt': 'rio'},
    'mountain': {'es': 'montaña', 'fr': 'montagne', 'pt': 'montanha'},
    'city': {'es': 'ciudad', 'fr': 'ville', 'pt': 'cidade'},
    'country': {'es': 'país', 'fr': 'pays', 'pt': 'país'},
    'time': {'es': 'tiempo', 'fr': 'temps', 'pt': 'tempo'},
    'day': {'es': 'día', 'fr': 'jour', 'pt': 'dia'},
    'night': {'es': 'noche', 'fr': 'nuit', 'pt': 'noite'},
    'morning': {'es': 'mañana', 'fr': 'matin', 'pt': 'manhã'},
    'evening': {'es': 'tarde', 'fr': 'soir', 'pt': 'noite'},
    'friend': {'es': 'amigo', 'fr': 'ami', 'pt': 'amigo'},
    'family': {'es': 'familia', 'fr': 'famille', 'pt': 'família'},
    'work': {'es': 'trabajo', 'fr': 'travail', 'pt': 'trabalho'},
    'school': {'es': 'escuela', 'fr': 'école', 'pt': 'escola'},
    'teacher': {'es': 'maestro', 'fr': 'professeur', 'pt': 'professor'},
    'student': {'es': 'estudiante', 'fr': 'étudiant', 'pt': 'estudante'},
    'doctor': {'es': 'doctor', 'fr': 'médecin', 'pt': 'médico'},
    'engineer': {'es': 'ingeniero', 'fr': 'ingénieur', 'pt': 'engenheiro'},
    'artist': {'es': 'artista', 'fr': 'artiste', 'pt': 'artista'},
    'science': {'es': 'ciencia', 'fr': 'science', 'pt': 'ciência'},
    'history': {'es': 'historia', 'fr': 'histoire', 'pt': 'história'},
    'math': {'es': 'matemáticas', 'fr': 'mathématiques', 'pt': 'matemática'},
    'language': {'es': 'idioma', 'fr': 'langue', 'pt': 'idioma'},
    'culture': {'es': 'cultura', 'fr': 'culture', 'pt': 'cultura'},
    'art': {'es': 'arte', 'fr': 'art', 'pt': 'arte'},
    'sport': {'es': 'deporte', 'fr': 'sport', 'pt': 'esporte'},
    'music': {'es': 'música', 'fr': 'musique', 'pt': 'música'},
    'film': {'es': 'cine', 'fr': 'film', 'pt': 'cinema'},
    'book': {'es': 'libro', 'fr': 'livre', 'pt': 'livro'},
    'news': {'es': 'noticias', 'fr': 'nouvelles', 'pt': 'notícias'},
    'internet': {'es': 'internet', 'fr': 'internet', 'pt': 'internet'},
    'computer': {'es': 'computadora', 'fr': 'ordinateur', 'pt': 'computador'},
    'software': {'es': 'software', 'fr': 'logiciel', 'pt': 'software'},
    'hardware': {'es': 'hardware', 'fr': 'matériel', 'pt': 'hardware'},
    'network': {'es': 'red', 'fr': 'réseau', 'pt': 'rede'},
    'security': {'es': 'seguridad', 'fr': 'sécurité', 'pt': 'sécurité'},
    'data': {'es': 'datos', 'fr': 'données', 'pt': 'dados'},
    'cloud': {'es': 'nube', 'fr': 'nuage', 'pt': 'nuvem'},
    'server': {'es': 'servidor', 'fr': 'serveur', 'pt': 'servidor'},
    'client': {'es': 'cliente', 'fr': 'client', 'pt': 'cliente'},
    'system': {'es': 'sistema', 'fr': 'système', 'pt': 'sistema'},
    'process': {'es': 'proceso', 'fr': 'processus', 'pt': 'processo'},
    'program': {'es': 'programa', 'fr': 'programme', 'pt': 'programa'},
    'code': {'es': 'código', 'fr': 'code', 'pt': 'código'},
    'development': {'es': 'desarrollo', 'fr': 'développement', 'pt': 'desenvolvimento'},
    'testing': {'es': 'pruebas', 'fr': 'tests', 'pt': 'testes'},
    'deployment': {'es': 'implementación', 'fr': 'déploiement', 'pt': 'implantação'},
    'error': {'es': 'error', 'fr': 'erreur', 'pt': 'erro'},
    'success': {'es': 'éxito', 'fr': 'succès', 'pt': 'sucesso'},
    'failure': {'es': 'fallo', 'fr': 'échec', 'pt': 'falha'},
    'message': {'es': 'mensaje', 'fr': 'message', 'pt': 'mensagem'},
    'queue': {'es': 'cola', 'fr': 'file d\'attente', 'pt': 'fila'},
    'async': {'es': 'asíncrono', 'fr': 'asynchrone', 'pt': 'assíncrono'},
    'sync': {'es': 'síncrono', 'fr': 'synchrone', 'pt': 'síncrono'},
    'service': {'es': 'servicio', 'fr': 'service', 'pt': 'serviço'},
    'api': {'es': 'api', 'fr': 'api', 'pt': 'api'},
    'rest': {'es': 'rest', 'fr': 'rest', 'pt': 'rest'},
    'json': {'es': 'json', 'fr': 'json', 'pt': 'json'},
    'xml': {'es': 'xml', 'fr': 'xml', 'pt': 'xml'},
    'database': {'es': 'base de datos', 'fr': 'base de données', 'pt': 'banco de dados'},
    'table': {'es': 'tabla', 'fr': 'table', 'pt': 'tabela'},
    'row': {'es': 'fila', 'fr': 'ligne', 'pt': 'linha'},
    'column': {'es': 'columna', 'fr': 'colonne', 'pt': 'coluna'},
    'index': {'es': 'índice', 'fr': 'index', 'pt': 'índice'},
    'query': {'es': 'consulta', 'fr': 'requête', 'pt': 'consulta'},
    'schema': {'es': 'esquema', 'fr': 'schéma', 'pt': 'esquema'},
    'migration': {'es': 'migración', 'fr': 'migration', 'pt': 'migração'},
    'model': {'es': 'modelo', 'fr': 'modèle', 'pt': 'modelo'},
    'view': {'es': 'vista', 'fr': 'vue', 'pt': 'visualização'},
    'controller': {'es': 'controlador', 'fr': 'contrôleur', 'pt': 'controlador'},
    'route': {'es': 'ruta', 'fr': 'route', 'pt': 'rota'},
    'endpoint': {'es': 'endpoint', 'fr': 'point d\'accès', 'pt': 'endpoint'},
    'request': {'es': 'solicitud', 'fr': 'requête', 'pt': 'requisição'},
    'response': {'es': 'respuesta', 'fr': 'réponse', 'pt': 'resposta'},
    'status': {'es': 'estado', 'fr': 'statut', 'pt': 'status'},
    'code': {'es': 'código', 'fr': 'code', 'pt': 'código'},
    'header': {'es': 'encabezado', 'fr': 'en-tête', 'pt': 'cabeçalho'},
    'body': {'es': 'cuerpo', 'fr': 'corps', 'pt': 'corpo'},
    'parameter': {'es': 'parámetro', 'fr': 'paramètre', 'pt': 'parâmetro'},
    'argument': {'es': 'argumento', 'fr': 'argument', 'pt': 'argumento'},
    'variable': {'es': 'variable', 'fr': 'variable', 'pt': 'variável'},
    'function': {'es': 'función', 'fr': 'fonction', 'pt': 'função'},
    'class': {'es': 'clase', 'fr': 'classe', 'pt': 'classe'},
    'object': {'es': 'objeto', 'fr': 'objet', 'pt': 'objeto'},
    'method': {'es': 'método', 'fr': 'méthode', 'pt': 'método'},
    'property': {'es': 'propiedad', 'fr': 'propriété', 'pt': 'propriedade'},
    'attribute': {'es': 'atributo', 'fr': 'attribut', 'pt': 'atributo'},
    'instance': {'es': 'instancia', 'fr': 'instance', 'pt': 'instância'},
    'module': {'es': 'módulo', 'fr': 'module', 'pt': 'módulo'},
    'package': {'es': 'paquete', 'fr': 'paquet', 'pt': 'pacote'},
    'library': {'es': 'librería', 'fr': 'bibliothèque', 'pt': 'biblioteca'},
    'framework': {'es': 'framework', 'fr': 'cadre', 'pt': 'framework'},
    'tool': {'es': 'herramienta', 'fr': 'outil', 'pt': 'ferramenta'},
    'environment': {'es': 'entorno', 'fr': 'environnement', 'pt': 'ambiente'},
    'configuration': {'es': 'configuración', 'fr': 'configuration', 'pt': 'configuração'},
    'setting': {'es': 'ajuste', 'fr': 'paramètre', 'pt': 'configuração'},
    'log': {'es': 'registro', 'fr': 'journal', 'pt': 'log'},
    'monitor': {'es': 'monitor', 'fr': 'moniteur', 'pt': 'monitor'},
    'alert': {'es': 'alerta', 'fr': 'alerte', 'pt': 'alerta'},
    'report': {'es': 'informe', 'fr': 'rapport', 'pt': 'relatório'},
    'analytics': {'es': 'análisis', 'fr': 'analyse', 'pt': 'análise'},
    'metric': {'es': 'métrica', 'fr': 'métrique', 'pt': 'métrica'},
    'dashboard': {'es': 'tablero', 'fr': 'tableau de bord', 'pt': 'painel'},
    'user': {'es': 'usuario', 'fr': 'utilisateur', 'pt': 'usuário'},
    'admin': {'es': 'administrador', 'fr': 'administrateur', 'pt': 'administrador'},
    'guest': {'es': 'invitado', 'fr': 'invité', 'pt': 'convidado'},
    'permission': {'es': 'permiso', 'fr': 'autorisation', 'pt': 'permissão'},
    'role': {'es': 'rol', 'fr': 'rôle', 'pt': 'papel'},
    'authentication': {'es': 'autenticación', 'fr': 'authentification', 'pt': 'autenticação'},
    'authorization': {'es': 'autorización', 'fr': 'autorisation', 'pt': 'autorização'},
    'token': {'es': 'token', 'fr': 'jeton', 'pt': 'token'},
    'session': {'es': 'sesión', 'fr': 'session', 'pt': 'sessão'},
    'cookie': {'es': 'cookie', 'fr': 'cookie', 'pt': 'cookie'},
    'cache': {'es': 'caché', 'fr': 'cache', 'pt': 'cache'},
    'storage': {'es': 'almacenamiento', 'fr': 'stockage', 'pt': 'armazenamento'},
    'disk': {'es': 'disco', 'fr': 'disque', 'pt': 'disco'},
    'memory': {'es': 'memoria', 'fr': 'mémoire', 'pt': 'memória'},
    'cpu': {'es': 'cpu', 'fr': 'processeur', 'pt': 'cpu'},
    'gpu': {'es': 'gpu', 'fr': 'gpu', 'pt': 'gpu'},
    'power': {'es': 'poder', 'fr': 'pouvoir', 'pt': 'poder'},
    'energy': {'es': 'energía', 'fr': 'énergie', 'pt': 'energia'},
    'battery': {'es': 'batería', 'fr': 'batterie', 'pt': 'bateria'},
    'charge': {'es': 'carga', 'fr': 'charge', 'pt': 'carga'},
    'plug': {'es': 'enchufe', 'fr': 'prise', 'pt': 'tomada'},
    'wire': {'es': 'cable', 'fr': 'fil', 'pt': 'fio'},
    'wireless': {'es': 'inalámbrico', 'fr': 'sans fil', 'pt': 'sem fio'},
    'bluetooth': {'es': 'bluetooth', 'fr': 'bluetooth', 'pt': 'bluetooth'},
    'wifi': {'es': 'wifi', 'fr': 'wifi', 'pt': 'wifi'},
    'router': {'es': 'enrutador', 'fr': 'routeur', 'pt': 'roteador'},
    'switch': {'es': 'conmutador', 'fr': 'commutateur', 'pt': 'switch'},
    'hub': {'es': 'concentrador', 'fr': 'concentrateur', 'pt': 'hub'},
    'firewall': {'es': 'cortafuegos', 'fr': 'pare-feu', 'pt': 'firewall'},
    'virus': {'es': 'virus', 'fr': 'virus', 'pt': 'vírus'},
    'malware': {'es': 'malware', 'fr': 'logiciel malveillant', 'pt': 'malware'},
    'spam': {'es': 'spam', 'fr': 'spam', 'pt': 'spam'},
    'phishing': {'es': 'phishing', 'fr': 'hameçonnage', 'pt': 'phishing'},
    'encryption': {'es': 'cifrado', 'fr': 'cryptage', 'pt': 'criptografia'},
    'decryption': {'es': 'descifrado', 'fr': 'décryptage', 'pt': 'descriptografia'},
    'hash': {'es': 'hash', 'fr': 'hachage', 'pt': 'hash'},
    'signature': {'es': 'firma', 'fr': 'signature', 'pt': 'assinatura'},
    'certificate': {'es': 'certificado', 'fr': 'certificat', 'pt': 'certificado'},
    'key': {'es': 'clave', 'fr': 'clé', 'pt': 'chave'},
    'password': {'es': 'contraseña', 'fr': 'mot de passe', 'pt': 'senha'},
    'username': {'es': 'nombre de usuario', 'fr': 'nom d\'utilisateur', 'pt': 'nome de usuário'},
    'email': {'es': 'correo electrónico', 'fr': 'courriel', 'pt': 'e-mail'},
    'address': {'es': 'dirección', 'fr': 'adresse', 'pt': 'endereço'},
    'phone_number': {'es': 'número de teléfono', 'fr': 'numéro de téléphone', 'pt': 'número de telefone'},
    'date': {'es': 'fecha', 'fr': 'date', 'pt': 'data'},
    'time': {'es': 'hora', 'fr': 'heure', 'pt': 'hora'},
    'timezone': {'es': 'zona horaria', 'fr': 'fuseau horaire', 'pt': 'fuso horário'},
    'currency': {'es': 'moneda', 'fr': 'devise', 'pt': 'moeda'},
    'amount': {'es': 'cantidad', 'fr': 'montant', 'pt': 'valor'},
    'price': {'es': 'precio', 'fr': 'prix', 'pt': 'preço'},
    'cost': {'es': 'costo', 'fr': 'coût', 'pt': 'custo'},
    'profit': {'es': 'beneficio', 'fr': 'bénéfice', 'pt': 'lucro'},
    'loss': {'es': 'pérdida', 'fr': 'perte', 'pt': 'perda'},
    'tax': {'es': 'impuesto', 'fr': 'taxe', 'pt': 'imposto'},
    'discount': {'es': 'descuento', 'fr': 'remise', 'pt': 'desconto'},
    'payment': {'es': 'pago', 'fr': 'paiement', 'pt': 'pagamento'},
    'invoice': {'es': 'factura', 'fr': 'facture', 'pt': 'fatura'},
    'receipt': {'es': 'recibo', 'fr': 'reçu', 'pt': 'recibo'},
    'order': {'es': 'orden', 'fr': 'commande', 'pt': 'pedido'},
    'delivery': {'es': 'entrega', 'fr': 'livraison', 'pt': 'entrega'},
    'shipping': {'es': 'envío', 'fr': 'expédition', 'pt': 'frete'},
    'tracking': {'es': 'seguimiento', 'fr': 'suivi', 'pt': 'rastreamento'},
    'return': {'es': 'devolución', 'fr': 'retour', 'pt': 'devolução'},
    'refund': {'es': 'reembolso', 'fr': 'remboursement', 'pt': 'reembolso'},
    'review': {'es': 'reseña', 'fr': 'avis', 'pt': 'avaliação'},
    'rating': {'es': 'calificación', 'fr': 'évaluation', 'pt': 'classificação'},
    'feedback': {'es': 'retroalimentación', 'fr': 'retour d\'information', 'pt': 'feedback'},
    'support': {'es': 'soporte', 'fr': 'support', 'pt': 'suporte'},
    'help': {'es': 'ayuda', 'fr': 'aide', 'pt': 'ajuda'},
    'faq': {'es': 'preguntas frecuentes', 'fr': 'faq', 'pt': 'faq'},
    'contact': {'es': 'contacto', 'fr': 'contact', 'pt': 'contato'},
    'about': {'es': 'acerca de', 'fr': 'à propos', 'pt': 'sobre'},
    'privacy': {'es': 'privacidad', 'fr': 'confidentialité', 'pt': 'privacidade'},
    'terms': {'es': 'términos', 'fr': 'conditions', 'pt': 'termos'},
    'policy': {'es': 'política', 'fr': 'politique', 'pt': 'política'},
    'agreement': {'es': 'acuerdo', 'fr': 'accord', 'pt': 'acordo'},
    'license': {'es': 'licencia', 'fr': 'licence', 'pt': 'licença'},
    'copyright': {'es': 'derechos de autor', 'fr': 'droit d\'auteur', 'pt': 'direitos autorais'},
    'trademark': {'es': 'marca registrada', 'fr': 'marque déposée', 'pt': 'marca registrada'},
    'patent': {'es': 'patente', 'fr': 'brevet', 'pt': 'patente'},
    'document': {'es': 'documento', 'fr': 'document', 'pt': 'documento'},
    'file': {'es': 'archivo', 'fr': 'fichier', 'pt': 'arquivo'},
    'folder': {'es': 'carpeta', 'fr': 'dossier', 'pt': 'pasta'},
    'directory': {'es': 'directorio', 'fr': 'répertoire', 'pt': 'diretório'},
    'path': {'es': 'ruta', 'fr': 'chemin', 'pt': 'caminho'},
    'name': {'es': 'nombre', 'fr': 'nom', 'pt': 'nome'},
    'value': {'es': 'valor', 'fr': 'valeur', 'pt': 'valor'},
    'type': {'es': 'tipo', 'fr': 'type', 'pt': 'tipo'},
    'size': {'es': 'tamaño', 'fr': 'taille', 'pt': 'taille'},
    'length': {'es': 'longitud', 'fr': 'longueur', 'pt': 'comprimento'},
    'width': {'es': 'ancho', 'fr': 'largeur', 'pt': 'largura'},
    'height': {'es': 'altura', 'fr': 'hauteur', 'pt': 'altura'},
    'depth': {'es': 'profundidad', 'fr': 'profondeur', 'pt': 'profundidade'},
    'weight': {'es': 'peso', 'fr': 'poids', 'pt': 'peso'},
    'color': {'es': 'color', 'fr': 'couleur', 'pt': 'cor'},
    'shape': {'es': 'forma', 'fr': 'forme', 'pt': 'forma'},
    'material': {'es': 'material', 'fr': 'matériau', 'pt': 'material'},
    'texture': {'es': 'textura', 'fr': 'texture', 'pt': 'textura'},
    'pattern': {'es': 'patrón', 'fr': 'motif', 'pt': 'padrão'},
    'design': {'es': 'diseño', 'fr': 'conception', 'pt': 'design'},
    'style': {'es': 'estilo', 'fr': 'style', 'pt': 'estilo'},
    'font': {'es': 'fuente', 'fr': 'police', 'pt': 'fonte'},
    'image': {'es': 'imagen', 'fr': 'image', 'pt': 'imagem'},
    'video': {'es': 'video', 'fr': 'vidéo', 'pt': 'vídeo'},
    'audio': {'es': 'audio', 'fr': 'audio', 'pt': 'áudio'},
    'sound': {'es': 'sonido', 'fr': 'son', 'pt': 'som'},
    'volume': {'es': 'volumen', 'fr': 'volume', 'pt': 'volume'},
    'brightness': {'es': 'brillo', 'fr': 'luminosité', 'pt': 'brilho'},
    'contrast': {'es': 'contraste', 'fr': 'contraste', 'pt': 'contraste'},
    'saturation': {'es': 'saturación', 'fr': 'saturation', 'pt': 'saturação'},
    'hue': {'es': 'tono', 'fr': 'teinte', 'pt': 'matiz'},
    'channel': {'es': 'canal', 'fr': 'canal', 'pt': 'canal'},
    'stream': {'es': 'flujo', 'fr': 'flux', 'pt': 'fluxo'},
    'broadcast': {'es': 'transmisión', 'fr': 'diffusion', 'pt': 'transmissão'},
    'record': {'es': 'grabar', 'fr': 'enregistrer', 'pt': 'gravar'},
    'play': {'es': 'reproducir', 'fr': 'jouer', 'pt': 'reproduzir'},
    'pause': {'es': 'pausar', 'fr': 'pause', 'pt': 'pausar'},
    'stop': {'es': 'detener', 'fr': 'arrêter', 'pt': 'parar'},
    'forward': {'es': 'adelantar', 'fr': 'avancer', 'pt': 'avançar'},
    'rewind': {'es': 'retroceder', 'fr': 'rembobiner', 'pt': 'retroceder'},
    'mute': {'es': 'silenciar', 'fr': 'muet', 'pt': 'silenciar'},
    'unmute': {'es': 'activar sonido', 'fr': 'réactiver le son', 'pt': 'ativar som'},
    'fullscreen': {'es': 'pantalla completa', 'fr': 'plein écran', 'pt': 'tela cheia'},
    'window': {'es': 'ventana', 'fr': 'fenêtre', 'pt': 'janela'},
    'tab': {'es': 'pestaña', 'fr': 'onglet', 'pt': 'aba'},
    'menu': {'es': 'menú', 'fr': 'menu', 'pt': 'menu'},
    'button': {'es': 'botón', 'fr': 'bouton', 'pt': 'botão'},
    'link': {'es': 'enlace', 'fr': 'lien', 'pt': 'link'},
    'text': {'es': 'texto', 'fr': 'texte', 'pt': 'texto'},
    'input': {'es': 'entrada', 'fr': 'entrée', 'pt': 'entrada'},
    'output': {'es': 'salida', 'fr': 'sortie', 'pt': 'saída'},
    'search': {'es': 'buscar', 'fr': 'recherche', 'pt': 'pesquisar'},
    'filter': {'es': 'filtro', 'fr': 'filtre', 'pt': 'filtro'},
    'sort': {'es': 'ordenar', 'fr': 'trier', 'pt': 'ordenar'},
    'group': {'es': 'grupo', 'fr': 'groupe', 'pt': 'grupo'},
    'add': {'es': 'añadir', 'fr': 'ajouter', 'pt': 'adicionar'},
    'remove': {'es': 'eliminar', 'fr': 'supprimer', 'pt': 'remover'},
    'edit': {'es': 'editar', 'fr': 'éditer', 'pt': 'editar'},
    'save': {'es': 'guardar', 'fr': 'enregistrer', 'pt': 'salvar'},
    'cancel': {'es': 'cancelar', 'fr': 'annuler', 'pt': 'cancelar'},
    'confirm': {'es': 'confirmar', 'fr': 'confirmer', 'pt': 'confirmar'},
    'delete': {'es': 'eliminar', 'fr': 'supprimer', 'pt': 'excluir'},
    'create': {'es': 'crear', 'fr': 'créer', 'pt': 'criar'},
    'update': {'es': 'actualizar', 'fr': 'mettre à jour', 'pt': 'atualizar'},
    'read': {'es': 'leer', 'fr': 'lire', 'pt': 'ler'},
    'write': {'es': 'escribir', 'fr': 'écrire', 'pt': 'escrever'},
    'execute': {'es': 'ejecutar', 'fr': 'exécuter', 'pt': 'executar'},
    'open': {'es': 'abrir', 'fr': 'ouvrir', 'pt': 'abrir'},
    'close': {'es': 'cerrar', 'fr': 'fermer', 'pt': 'fechar'},
    'exit': {'es': 'salir', 'fr': 'quitter', 'pt': 'sair'},
    'login': {'es': 'iniciar sesión', 'fr': 'se connecter', 'pt': 'entrar'},
    'logout': {'es': 'cerrar sesión', 'fr': 'se déconnecter', 'pt': 'sair'},
    'register': {'es': 'registrar', 'fr': 's\'inscrire', 'pt': 'registrar'},
    'forgot_password': {'es': 'olvidé mi contraseña', 'fr': 'mot de passe oublié', 'pt': 'esqueci a senha'},
    'profile': {'es': 'perfil', 'fr': 'profil', 'pt': 'perfil'},
    'settings': {'es': 'configuración', 'fr': 'paramètres', 'pt': 'configurações'},
    'preferences': {'es': 'preferencias', 'fr': 'préférences', 'pt': 'preferências'},
    'notification': {'es': 'notificación', 'fr': 'notification', 'pt': 'notificação'},
    'alert': {'es': 'alerta', 'fr': 'alerte', 'pt': 'alerta'},
    'message': {'es': 'mensaje', 'fr': 'message', 'pt': 'mensagem'},
    'chat': {'es': 'chat', 'fr': 'chat', 'pt': 'chat'},
    'email': {'es': 'correo electrónico', 'fr': 'courriel', 'pt': 'e-mail'},
    'sms': {'es': 'sms', 'fr': 'sms', 'pt': 'sms'},
    'call': {'es': 'llamada', 'fr': 'appel', 'pt': 'chamada'},
    'video_call': {'es': 'videollamada', 'fr': 'appel vidéo', 'pt': 'videochamada'},
    'meeting': {'es': 'reunión', 'fr': 'réunion', 'pt': 'reunião'},
    'calendar': {'es': 'calendario', 'fr': 'calendrier', 'pt': 'calendário'},
    'event': {'es': 'evento', 'fr': 'événement', 'pt': 'evento'},
    'task': {'es': 'tarea', 'fr': 'tâche', 'pt': 'tarefa'},
    'project': {'es': 'proyecto', 'fr': 'projet', 'pt': 'projeto'},
    'team': {'es': 'equipo', 'fr': 'équipe', 'pt': 'equipe'},
    'member': {'es': 'miembro', 'fr': 'membre', 'pt': 'membro'},
    'role': {'es': 'rol', 'fr': 'rôle', 'pt': 'papel'},
    'manager': {'es': 'gerente', 'fr': 'gestionnaire', 'pt': 'gerente'},
    'leader': {'es': 'líder', 'fr': 'leader', 'pt': 'líder'},
    'follower': {'es': 'seguidor', 'fr': 'suiveur', 'pt': 'seguidor'},
    'customer': {'es': 'cliente', 'fr': 'client', 'pt': 'cliente'},
    'client': {'es': 'cliente', 'fr': 'client', 'pt': 'cliente'},
    'vendor': {'es': 'vendedor', 'fr': 'fournisseur', 'pt': 'fornecedor'},
    'partner': {'es': 'socio', 'fr': 'partenaire', 'pt': 'parceiro'},
    'competitor': {'es': 'competidor', 'fr': 'concurrent', 'pt': 'concorrente'},
    'market': {'es': 'mercado', 'fr': 'marché', 'pt': 'mercado'},
    'sales': {'es': 'ventas', 'fr': 'ventes', 'pt': 'ventas'},
    'marketing': {'es': 'marketing', 'fr': 'marketing', 'pt': 'marketing'},
    'finance': {'es': 'finanzas', 'fr': 'finance', 'pt': 'finanças'},
    'accounting': {'es': 'contabilidad', 'fr': 'comptabilité', 'pt': 'contabilidade'},
    'legal': {'es': 'legal', 'fr': 'juridique', 'pt': 'legal'},
    'human_resources': {'es': 'recursos humanos', 'fr': 'ressources humaines', 'pt': 'recursos humanos'},
    'support': {'es': 'soporte', 'fr': 'support', 'pt': 'suporte'},
    'operations': {'es': 'operaciones', 'fr': 'opérations', 'pt': 'operações'},
    'logistics': {'es': 'logística', 'fr': 'logistique', 'pt': 'logística'},
    'inventory': {'es': 'inventario', 'fr': 'inventaire', 'pt': 'inventário'},
    'warehouse': {'es': 'almacén', 'fr': 'entrepôt', 'pt': 'armazém'},
    'store': {'es': 'tienda', 'fr': 'magasin', 'pt': 'loja'},
    'office': {'es': 'oficina', 'fr': 'bureau', 'pt': 'escritório'},
    'home': {'es': 'hogar', 'fr': 'maison', 'pt': 'casa'},
    'room': {'es': 'habitación', 'fr': 'pièce', 'pt': 'quarto'},
    'kitchen': {'es': 'cocina', 'fr': 'cuisine', 'pt': 'cozinha'},
    'bathroom': {'es': 'baño', 'fr': 'salle de bain', 'pt': 'banheiro'},
    'bedroom': {'es': 'dormitorio', 'fr': 'chambre', 'pt': 'quarto'},
    'living_room': {'es': 'sala de estar', 'fr': 'salon', 'pt': 'sala de estar'},
    'garden': {'es': 'jardín', 'fr': 'jardin', 'pt': 'jardim'},
    'street': {'es': 'calle', 'fr': 'rue', 'pt': 'rua'},
    'avenue': {'es': 'avenida', 'fr': 'avenue', 'pt': 'avenida'},
    'road': {'es': 'carretera', 'fr': 'route', 'pt': 'estrada'},
    'highway': {'es': 'autopista', 'fr': 'autoroute', 'pt': 'rodovia'},
    'bridge': {'es': 'puente', 'fr': 'pont', 'pt': 'ponte'},
    'tunnel': {'es': 'túnel', 'fr': 'tunnel', 'pt': 'túnel'},
    'building': {'es': 'edificio', 'fr': 'bâtiment', 'pt': 'prédio'},
    'apartment': {'es': 'apartamento', 'fr': 'appartement', 'pt': 'apartamento'},
    'hotel': {'es': 'hotel', 'fr': 'hôtel', 'pt': 'hotel'},
    'restaurant': {'es': 'restaurante', 'fr': 'restaurant', 'pt': 'restaurante'},
    'cafe': {'es': 'cafetería', 'fr': 'café', 'pt': 'café'},
    'bar': {'es': 'bar', 'fr': 'bar', 'pt': 'bar'},
    'hospital': {'es': 'hospital', 'fr': 'hôpital', 'pt': 'hospital'},
    'clinic': {'es': 'clínica', 'fr': 'clinique', 'pt': 'clínica'},
    'pharmacy': {'es': 'farmacia', 'fr': 'pharmacie', 'pt': 'farmácia'},
    'police': {'es': 'policía', 'fr': 'police', 'pt': 'polícia'},
    'fire_station': {'es': 'estación de bomberos', 'fr': 'caserne de pompiers', 'pt': 'corpo de bombeiros'},
    'airport': {'es': 'aeropuerto', 'fr': 'aéroport', 'pt': 'aeroporto'},
    'train_station': {'es': 'estación de tren', 'fr': 'gare', 'pt': 'estação de trem'},
    'bus_station': {'es': 'estación de autobuses', 'fr': 'gare routière', 'pt': 'rodoviária'},
    'port': {'es': 'puerto', 'fr': 'port', 'pt': 'porto'},
    'dock': {'es': 'muelle', 'fr': 'quai', 'pt': 'cais'},
    'ship': {'es': 'barco', 'fr': 'navire', 'pt': 'navio'},
    'boat': {'es': 'bote', 'fr': 'bateau', 'pt': 'barco'},
    'plane': {'es': 'avión', 'fr': 'avion', 'pt': 'avião'},
    'car': {'es': 'coche', 'fr': 'voiture', 'pt': 'carro'},
    'bike': {'es': 'bicicleta', 'fr': 'vélo', 'pt': 'bicicleta'},
    'motorcycle': {'es': 'motocicleta', 'fr': 'moto', 'pt': 'moto'},
    'bicycle': {'es': 'bicicleta', 'fr': 'vélo', 'pt': 'bicicleta'},
    'train': {'es': 'tren', 'fr': 'train', 'pt': 'trem'},
    'bus': {'es': 'autobús', 'fr': 'bus', 'pt': 'ônibus'},
    'taxi': {'es': 'taxi', 'fr': 'taxi', 'pt': 'táxi'},
    'subway': {'es': 'metro', 'fr': 'métro', 'pt': 'metrô'},
    'tram': {'es': 'tranvía', 'fr': 'tramway', 'pt': 'bonde'},
    'walk': {'es': 'caminar', 'fr': 'marcher', 'pt': 'caminhar'},
    'run': {'es': 'correr', 'fr': 'courir', 'pt': 'correr'},
    'swim': {'es': 'nadar', 'fr': 'nager', 'pt': 'nadar'},
    'fly': {'es': 'volar', 'fr': 'voler', 'pt': 'voar'},
    'drive': {'es': 'conducir', 'fr': 'conduire', 'pt': 'dirigir'},
    'ride': {'es': 'montar', 'fr': 'monter', 'pt': 'andar'},
    'speak': {'es': 'hablar', 'fr': 'parler', 'pt': 'falar'},
    'listen': {'es': 'escuchar', 'fr': 'écouter', 'pt': 'escutar'},
    'read': {'es': 'leer', 'fr': 'lire', 'pt': 'ler'},
    'write': {'es': 'escribir', 'fr': 'écrire', 'pt': 'escrever'},
    'eat': {'es': 'comer', 'fr': 'manger', 'pt': 'comer'},
    'drink': {'es': 'beber', 'fr': 'boire', 'pt': 'beber'},
    'sleep': {'es': 'dormir', 'fr': 'dormir', 'pt': 'dormir'},
    'wake_up': {'es': 'despertarse', 'fr': 'se réveiller', 'pt': 'acordar'},
    'work': {'es': 'trabajar', 'fr': 'travailler', 'pt': 'trabalhar'},
    'study': {'es': 'estudiar', 'fr': 'étudier', 'pt': 'estudar'},
    'learn': {'es': 'aprender', 'fr': 'apprendre', 'pt': 'aprender'},
    'teach': {'es': 'enseñar', 'fr': 'enseigner', 'pt': 'ensinar'},
    'play': {'es': 'jugar', 'fr': 'jouer', 'pt': 'brincar'},
    'sing': {'es': 'cantar', 'fr': 'chanter', 'pt': 'cantar'},
    'dance': {'es': 'bailar', 'fr': 'danser', 'pt': 'dançar'},
    'draw': {'es': 'dibujar', 'fr': 'dessiner', 'pt': 'desenhar'},
    'paint': {'es': 'pintar', 'fr': 'peindre', 'pt': 'pintar'},
    'build': {'es': 'construir', 'fr': 'construire', 'pt': 'construir'},
    'create': {'es': 'crear', 'fr': 'créer', 'pt': 'criar'},
    'destroy': {'es': 'destruir', 'fr': 'détruire', 'pt': 'destruir'},
    'repair': {'es': 'reparar', 'fr': 'réparer', 'pt': 'reparar'},
    'fix': {'es': 'arreglar', 'fr': 'réparer', 'pt': 'consertar'},
    'clean': {'es': 'limpiar', 'fr': 'nettoyer', 'pt': 'limpar'},
    'dirty': {'es': 'sucio', 'fr': 'sale', 'pt': 'sujo'},
    'open': {'es': 'abrir', 'fr': 'ouvrir', 'pt': 'abrir'},
    'close': {'es': 'cerrar', 'fr': 'fermer', 'pt': 'fechar'},
    'start': {'es': 'empezar', 'fr': 'commencer', 'pt': 'começar'},
    'stop': {'es': 'detener', 'fr': 'arrêter', 'pt': 'parar'},
    'finish': {'es': 'terminar', 'fr': 'finir', 'pt': 'terminar'},
    'begin': {'es': 'empezar', 'fr': 'commencer', 'pt': 'começar'},
    'end': {'es': 'finalizar', 'fr': 'finir', 'pt': 'fim'},
    'continue': {'es': 'continuar', 'fr': 'continuer', 'pt': 'continuar'},
    'wait': {'es': 'esperar', 'fr': 'attendre', 'pt': 'esperar'},
    'hurry': {'es': 'darse prisa', 'fr': 'se dépêcher', 'pt': 'pressa'},
    'come': {'es': 'venir', 'fr': 'venir', 'pt': 'vir'},
    'go': {'es': 'ir', 'fr': 'aller', 'pt': 'ir'},
    'walk': {'es': 'caminar', 'fr': 'marcher', 'pt': 'caminhar'},
    'run': {'es': 'correr', 'fr': 'courir', 'pt': 'correr'},
    'drive': {'es': 'conducir', 'fr': 'conduire', 'pt': 'dirigir'},
    'fly': {'es': 'volar', 'fr': 'voler', 'pt': 'voar'},
    'sit': {'es': 'sentarse', 'fr': 's\'asseoir', 'pt': 'sentar'},
    'stand': {'es': 'estar de pie', 'fr': 'se tenir debout', 'pt': 'ficar de pé'},
    'lie': {'es': 'acostarse', 'fr': 's\'allonger', 'pt': 'deitar'},
    'give': {'es': 'dar', 'fr': 'donner', 'pt': 'dar'},
    'take': {'es': 'tomar', 'fr': 'prendre', 'pt': 'pegar'},
    'bring': {'es': 'traer', 'fr': 'apporter', 'pt': 'trazer'},
    'send': {'es': 'enviar', 'fr': 'envoyer', 'pt': 'enviar'},
    'receive': {'es': 'recibir', 'fr': 'recevoir', 'pt': 'receber'},
    'buy': {'es': 'comprar', 'fr': 'acheter', 'pt': 'comprar'},
    'sell': {'es': 'vender', 'fr': 'vendre', 'pt': 'vender'},
    'pay': {'es': 'pagar', 'fr': 'payer', 'pt': 'pagar'},
    'win': {'es': 'ganar', 'fr': 'gagner', 'pt': 'ganhar'},
    'lose': {'es': 'perder', 'fr': 'perdre', 'pt': 'perder'},
    'find': {'es': 'encontrar', 'fr': 'trouver', 'pt': 'encontrar'},
    'lose': {'es': 'perder', 'fr': 'perdre', 'pt': 'perder'},
    'search': {'es': 'buscar', 'fr': 'chercher', 'pt': 'buscar'},
    'ask': {'es': 'preguntar', 'fr': 'demander', 'pt': 'demander'},
    'answer': {'es': 'responder', 'fr': 'répondre', 'pt': 'responder'},
    'tell': {'es': 'contar', 'fr': 'dire', 'pt': 'contar'},
    'show': {'es': 'mostrar', 'fr': 'montrer', 'pt': 'mostrar'},
    'hide': {'es': 'esconder', 'fr': 'cacher', 'pt': 'esconder'},
    'see': {'es': 'ver', 'fr': 'voir', 'pt': 'ver'},
    'look': {'es': 'mirar', 'fr': 'regarder', 'pt': 'olhar'},
    'watch': {'es': 'observar', 'fr': 'regarder', 'pt': 'assistir'},
    'hear': {'es': 'oír', 'fr': 'entendre', 'pt': 'ouvir'},
    'listen': {'es': 'escuchar', 'fr': 'écouter', 'pt': 'escutar'},
    'feel': {'es': 'sentir', 'fr': 'ressentir', 'pt': 'sentir'},
    'taste': {'es': 'probar', 'fr': 'goûter', 'pt': 'provar'},
    'smell': {'es': 'oler', 'fr': 'sentir', 'pt': 'cheirar'},
    'touch': {'es': 'tocar', 'fr': 'toucher', 'pt': 'tocar'},
    'think': {'es': 'pensar', 'fr': 'penser', 'pt': 'pensar'},
    'know': {'es': 'saber', 'fr': 'savoir', 'pt': 'saber'},
    'understand': {'es': 'entender', 'fr': 'comprendre', 'pt': 'entender'},
    'believe': {'es': 'creer', 'fr': 'croire', 'pt': 'acreditar'},
    'hope': {'es': 'esperar', 'fr': 'espérer', 'pt': 'esperar'},
    'wish': {'es': 'desear', 'fr': 'souhaiter', 'pt': 'desejar'},
    'want': {'es': 'querer', 'fr': 'vouloir', 'pt': 'querer'},
    'need': {'es': 'necesitar', 'fr': 'avoir besoin', 'pt': 'precisar'},
    'like': {'es': 'gustar', 'fr': 'aimer', 'pt': 'gostar'},
    'love': {'es': 'amar', 'fr': 'aimer', 'pt': 'amar'},
    'hate': {'es': 'odiar', 'fr': 'détester', 'pt': 'odiar'},
    'remember': {'es': 'recordar', 'fr': 'se souvenir', 'pt': 'lembrar'},
    'forget': {'es': 'olvidar', 'fr': 'oublier', 'pt': 'esquecer'},
    'agree': {'es': 'estar de acuerdo', 'fr': 'être d\'accord', 'pt': 'concordar'},
    'disagree': {'es': 'estar en desacuerdo', 'fr': 'être en désaccord', 'pt': 'discordar'},
    'help': {'es': 'ayudar', 'fr': 'aider', 'pt': 'ajudar'},
    'thank': {'es': 'agradecer', 'fr': 'remercier', 'pt': 'agradecer'},
    'apologize': {'es': 'disculparse', 'fr': 's\'excuser', 'pt': 'pedir desculpas'},
    'welcome': {'es': 'dar la bienvenida', 'fr': 'accueillir', 'pt': 'dar as boas-vindas'},
    'excuse': {'es': 'disculpar', 'fr': 'excuser', 'pt': 'desculpar'},
    'pardon': {'es': 'perdonar', 'fr': 'pardonner', 'pt': 'perdoar'}
};


function translateMock(text, targetLanguage) {
    const translatedWords = [];
    // Divide o texto em palavras, ignorando pontuação para este mock simples
    const words = text.toLowerCase().split(/\W+/).filter(Boolean); // Remove palavras vazias

    for (const word of words) {
        const translatedWord = MOCKED_TRANSLATIONS[word]?.[targetLanguage];
        if (translatedWord) {
            translatedWords.push(translatedWord);
        } else {
            translatedWords.push(word); // Mantém a palavra original se não houver tradução
        }
    }
    return translatedWords.join(' ');
}

async function startWorker() {
    await syncDatabase(); // Garante que a conexão com o DB esteja pronta
    const channel = await connectRabbitMQ();

    if (channel) {
        channel.consume(config.translationQueue, async (msg) => {
            if (msg !== null) {
                const messageContent = JSON.parse(msg.content.toString());
                const { requestId, originalText, targetLanguage } = messageContent;

                console.log(`[Worker] Recebeu requisição para ${requestId}`);

                let translationRecord;
                try {
                    // 1. Marcar como "processing"
                    translationRecord = await Translation.findOne({ where: { requestId } });
                    if (translationRecord) {
                        translationRecord.status = 'processing';
                        await translationRecord.save();
                        console.log(`[Worker] Requisição ${requestId} marcada como 'processing'.`);
                    } else {
                        console.warn(`[Worker] Requisição ${requestId} não encontrada no DB. Pulando.`);
                        channel.ack(msg); // Confirma a mensagem para removê-la da fila mesmo sem processar
                        return;
                    }

                    // 2. Simular/Realizar a tradução
                    await new Promise(resolve); // Simula atraso
                    const translatedContent = translateMock(originalText, targetLanguage);
                    // Em um cenário real, aqui você chamaria uma API de tradução externa.

                    // 3. Atualizar status para "completed" e salvar resultado
                    translationRecord.translatedText = translatedContent;
                    translationRecord.status = 'completed';
                    await translationRecord.save();
                    console.log(`[Worker] Requisição ${requestId} concluída. Texto traduzido: "${translatedContent}"`);

                    channel.ack(msg); // Confirma a mensagem após processamento bem-sucedido

                } catch (error) {
                    console.error(`[Worker] Erro ao processar requisição ${requestId}:`, error);
                    if (translationRecord) {
                        translationRecord.status = 'failed';
                        await translationRecord.save();
                    }
                    channel.reject(msg, false); // Rejeita a mensagem (false = não requeue)
                }
            }
        }, {
            noAck: false // Garante que precisamos confirmar explicitamente a mensagem
        });

        console.log(`Worker aguardando mensagens na fila '${config.translationQueue}'.`);
    }
}

startWorker();
